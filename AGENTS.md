# Development Agent Guidelines

## Agent Insights & Decisions

### Build System Compatibility (2025-12-18)
**Issue**: Node.js crypto module incompatibility with browser builds  
**Root Cause**: `utils/enhancedRateLimit.ts` imported server-side `crypto` using `createHash`  
**Solution Applied**: Browser-compatible simple hash algorithm  
**Key Insight**: Always verify cross-platform compatibility when importing Node.js modules in frontend code

### Recommended Development Patterns

#### Browser Compatibility Checklist
- [ ] Verify all imports work in browser environment
- [ ] Avoid Node.js-specific modules (`crypto`, `fs`, `path`, etc.)
- [ ] Use Web APIs or browser-compatible alternatives
- [ ] Test build process after adding new dependencies

#### Error Handling Strategy
- **Current**: Build-blocking errors must be resolved immediately
- **Priority**: Critical > High > Medium > Low
- **Critical Impact**: Build failures, security vulnerabilities, data loss
- **Approach**: Fix first, optimize later

#### Module Design Principles
1. **Cross-Platform First**: Always target browser environment
2. **Graceful Degradation**: Provide fallbacks when possible
3. **Type Safety**: Strong TypeScript typing preferred
4. **Single Responsibility**: Each utility should have one clear purpose

## Agent Guidelines for Future Work

### When Addressing Bugs
1. **Verify Build Impact**: Always run `npm run build` to check for breaking changes
2. **Type Check**: Use `npm run typecheck` to catch TypeScript issues
3. **Lint Quality**: Address critical lint issues but prioritize function over form
4. **Document**: Record root cause, solution, and prevention strategies

### When Optimizing Features
1. **Measure First**: Use bundle analysis before and after changes
2. **User Impact**: Prioritize visible improvements over internal optimizations
3. **Backwards Compatibility**: Maintain existing APIs where possible
4. **Testing**: Verify optimization doesn't break existing functionality

### When Improving Code Quality
1. **Incremental**: Fix issues in logical groups rather than random scatter
2. **Context-Aware**: Understand file purpose before changing patterns
3. **Consistent**: Follow existing conventions unless clearly problematic
4. **Document Changes**: Update relevant documentation files

## Future Agent Tasks

### Immediate (Next Sprint)
- Address high-impact ESLint warnings
- Implement bundle splitting for performance
- Add unit tests for critical utilities

### Short Term (Next Month)
- Upgrade to Web Crypto API for security
- Comprehensive lint cleanup
- Performance optimization pass

### Long Term
- Enhanced error boundary coverage
- Component refactoring for maintainability
- Advanced testing strategy implementation

## Development Workflow Recommendations

1. **Start with Build Check**: Always verify build works before major changes
2. **Test Incrementally**: Run type checking and linting during development  
3. **Document Decisions**: Record why changes were made, not just what was changed
4. **Think Cross-Platform**: Consider browser, server, and edge environments
5. **Security Mindset**: Validate inputs, avoid exposing secrets, use secure defaults